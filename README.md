# Google Fonts Webpack Plugin

*Compatible with Webpack >= 4.14.0 and >= 5.0.0*

Download Google fonts to webpack build folder using [google-webfonts-helper](https://github.com/majodev/google-webfonts-helper) or use CDN to integrate with [html-webpack-plugin](https://github.com/jantimon/html-webpack-plugin).

![publish](https://github.com/beyonk-adventures/google-fonts-webpack-plugin/workflows/publish/badge.svg)

---

## Install

```bash
npm install @beyonk/google-fonts-webpack-plugin
```

## Usage

`/webpack.config.js`
```js
const GoogleFontsPlugin = require("@beyonk/google-fonts-webpack-plugin")

module.exports = {
	"entry": "index.js",
	/* ... */
	plugins: [
		new GoogleFontsPlugin({
			fonts: [
				{ family: "Source Sans Pro" },
				{ family: "Roboto", variants: [ "400", "700italic" ], display: "block" }
			]
			/* ...options */
		})
	]
}
```

### with Proxy

`/webpack.config.js`
```js
const GoogleFontsPlugin = require("@beyonk/google-fonts-webpack-plugin")

module.exports = {
	"entry": "index.js",
	/* ... */
	plugins: [
		new GoogleFontsPlugin({
			proxy: {
				protocol: "http:",
				port: "1024",
				hostname: "proxy.corporate.com",
				ciphers: 'TLS_AES_256_GCM_SHA384:ECDHE-RSA-AES256-GCM-SHA384',
				minVersion: "TLSv1.2",
            }
			/* ...options */
		})
	]
}
```

## Options

```js
new GoogleFontsPlugin(options: Object)
```

|Name|Type|Default|Description|
|----|----|-------|-----------|
|fonts|`FontObject[]`|-|Configuration generated by [Fontello.com](https://fontello.com).
|name|`String`|`"fonts"`|Module name.
|filename|`String`|`"fonts.css"`|Css file name.
|path|`String`|`"font/"`|Relative path to fonts directory. If path is `undefined` fonts are not downloaded, the css file is generated with Google hosted font files.
|local|`Boolean`|`true`|Whether to use google-webfonts-helper API or just link to Google Fonts hosted css. If this option is set to false this plugin just adds the css url to html-webpack-plugin (if present).
|noLocalInCss|`Boolean`|`false`|Whether to prepend `local(FontName)` expression before font files in CSS file ([see MDN](https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/src)).
|formats|`Array`|`[ "eot", "woff", "woff2", "ttf", "svg" ]`|Font formats to download.
|apiUrl|`String`|`"https://google-webfonts-helper.herokuapp.com/api/fonts"`|google-webfonts-helper API url.
|proxy|`ProxyAgentOptionObject`|`undefined`|settings which get passed to the ProxyAgent ([see Repo](https://github.com/TooTallNate/node-proxy-agent)). Setting this to `undefined` (default) leads to a disable ProxyAgent and setting it to `{}` let the plugin read the environment variables `HTTP_PROXY`, `HTTPS_PROXY` and `NO_PROXY`. It's also possible to define the proxy settings via webpack config 

### FontObject

|Name|Type|Default|Description|
|----|----|-------|-----------|
|family|`String`|-|Font family.
|variants|`Array`|-|Font variants according	to google-webfonts-helper (e.g.: `[ "italic", "500", "700italic" ]`).
|subsets|`Array`|-|Font subsets according	to google-webfonts-helper (e.g.: `[ "latin", "greek" ]`).
|formats|`Array`|-|Font formats to download. Defaults to `options.formats`.
|display|`String`|"swap"|Font Display|
